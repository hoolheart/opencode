2026-02-18
----------

## Overview
Established complete Rust + Flutter software development agent ecosystem with 1 primary agent and 6 subagents, enabling full product lifecycle management from requirements to delivery.

## Technical Stack
- **Backend**: Rust
- **Frontend**: Flutter (iOS, Android, Web, Desktop)
- **Architecture**: Multi-agent orchestration system

## Agents Created

### 1. product (PRIMARY AGENT)
**File**: `agents/product.md` (684 lines)
**Mode**: primary | **Temperature**: 0.3 | **Steps**: 50

**Responsibilities**:
1. Collect and verify software product requirements with user
2. Verify feasibility with architect subagent
3. Create Product Requirements Document (PRD)
4. Call architect to design software architecture and decompose tasks
5. Setup development plan according to task decomposition
6. Distribute tasks to development subagents (rust_dev, flutter_dev, ui_dev)
7. Enforce quality gates: test before code review, architect review before merge
8. Coordinate final product testing with test subagent
9. Manage bug fixes with development subagents
10. Deliver final product to user

**Integration Flow**:
```
User â†’ product â†’ architect/rust_dev/flutter_dev/ui_dev â†’ test â†’ Delivery
```

---

### 2. architect (Subagent)
**File**: `agents/architect.md`
**Mode**: subagent | **Temperature**: 0.3

**Responsibilities**:
- Design Rust + Flutter software architecture
- Provide technical feasibility analysis
- Decompose architecture into design tasks with interfaces and acceptance criteria
- Review code submissions and reject unreasonable designs
- Arbitrate conflicts between development and testing

**Key Features**:
- Architecture design documents
- Task decomposition with interface definitions
- Code review reports
- Arbitration decisions

---

### 3. rust_dev (Subagent)
**File**: `agents/rust_dev.md` (304 lines)
**Mode**: subagent | **Temperature**: 0.2

**Responsibilities**:
- Write idiomatic, safe, and performant Rust code
- Implement comprehensive testing (unit, integration, documentation tests)
- FFI integration with Flutter via flutter_rust_bridge
- Cross-platform development (iOS, Android, Windows, macOS, Linux)
- Code quality enforcement (cargo fmt, clippy)
- Concurrency and async programming

**Key Features**:
- Follows rust-guidelines.md
- FFI & Flutter integration support
- Cross-platform compilation
- Concurrency best practices
- Error handling standards

---

### 4. flutter_dev (Subagent)
**File**: `agents/flutter_dev.md` (~580 lines)
**Mode**: subagent | **Temperature**: 0.2

**Responsibilities**:
- Implement responsive and accessible Flutter UI
- State management (BLoC, Provider, Riverpod, etc.)
- FFI integration with Rust using flutter_rust_bridge
- Cross-platform development (iOS, Android, Web, Desktop)
- Code quality (flutter analyze, dart format)
- Navigation & routing (GoRouter)
- Localization & accessibility

**Integration with ui_dev**:
- Explicit calling procedures for UI design tasks
- Design-to-code handoff workflow
- Design token implementation

**Key Features**:
- Follows flutter-guidelines.md
- Material Design 3 / Cupertino support
- FFI error handling
- Responsive layouts
- Complete testing workflow

---

### 5. ui_dev (Subagent)
**File**: `agents/ui_dev.md` (~620 lines)
**Mode**: subagent | **Temperature**: 0.2

**Responsibilities**:
- Create comprehensive design systems
- Define visual design specifications for Flutter widgets
- Design token management (colors, typography, spacing)
- Component library design (Material Design 3)
- Accessibility & UX guidelines (WCAG 2.1 AA)
- Design-to-code handoff documentation

**Key Features**:
- Follows color-guidelines.md and figma-guidelines.md
- WCAG 2.1 AA compliance
- Light/Dark mode design
- 8px baseline spacing system
- ThemeData configurations
- Flutter-specific implementation guidance

---

### 6. test (Subagent)
**File**: `agents/test.md` (~745 lines)
**Mode**: subagent | **Temperature**: 0.2

**Responsibilities** (Black-box testing focus):
- Create test cases based on requirements ONLY (no code review)
- Functional testing from user perspective
- Integration testing (Rust-Flutter FFI)
- Cross-platform testing
- Regression testing
- Bug reporting with reproduction steps
- Test documentation and traceability matrices

**Test Design Techniques**:
- Equivalence Partitioning
- Boundary Value Analysis
- Decision Table Testing
- State Transition Testing
- Use Case Testing
- Error Guessing

**Key Features**:
- Follows test-case-guidelines.md
- Black-box testing principles
- Comprehensive test templates
- Defect report templates
- Integration with all development agents

---

### 7. review (Subagent)
**File**: `agents/review.md`
**Mode**: subagent

**Responsibilities**:
- Review text materials for quality, accuracy, and style
- Used during agent creation process
- Provides structured feedback with prioritized issues

---

### 8. office (Subagent)
**File**: `agents/office.md`
**Mode**: subagent

**Responsibilities**:
- Handle office-related tasks
- Document processing
- General administrative support

---

## Quality Gates & Workflow

### Development Workflow (Enforced by product agent):
```
1. Assign Task â†’ Dev Subagent
2. Development Complete
3. Test Subagent â†’ Tests Implementation
   â”œâ”€ PASS â†’ Code Review
   â””â”€ FAIL â†’ Return to Developer
4. Architect â†’ Code Review
   â”œâ”€ APPROVED â†’ Merge
   â””â”€ CHANGES â†’ Return to Developer
5. Task Complete
```

### Bug Fix Workflow:
```
1. Review test report with user
2. Prioritize bugs (Critical/High/Medium/Low)
3. Assign to appropriate subagent
4. Fix â†’ Test â†’ Review â†’ Close
5. Re-run regression tests
6. User validation
```

## Project Structure

```
~/.config/opencode/
â”œâ”€â”€ agents/
â”‚   â”œâ”€â”€ product.md          # Primary orchestrator (NEW)
â”‚   â”œâ”€â”€ architect.md        # Architecture design
â”‚   â”œâ”€â”€ rust_dev.md         # Rust development
â”‚   â”œâ”€â”€ flutter_dev.md      # Flutter development
â”‚   â”œâ”€â”€ ui_dev.md           # UI/UX design
â”‚   â”œâ”€â”€ test.md             # Black-box testing
â”‚   â”œâ”€â”€ review.md           # Review agent
â”‚   â””â”€â”€ office.md           # Office tasks
â”œâ”€â”€ rules/
â”‚   â”œâ”€â”€ rust-guidelines.md
â”‚   â”œâ”€â”€ flutter-guidelines.md
â”‚   â”œâ”€â”€ color-guidelines.md
â”‚   â”œâ”€â”€ figma-guidelines.md
â”‚   â”œâ”€â”€ test-case-guidelines.md
â”‚   â”œâ”€â”€ prd-guidelines-en.md
â”‚   â””â”€â”€ ...
â””â”€â”€ CHANGELOG
```

## Statistics

| Metric | Count |
|--------|-------|
| **Total Agents** | 8 (1 primary + 7 subagents) |
| **New Agents** | 6 (product, architect, rust_dev, flutter_dev, ui_dev, test) |
| **Total Lines** | ~3,500+ lines of agent definitions |
| **Review Iterations** | 4 comprehensive reviews |

## Usage

To start a software project:
1. Call **product** agent with initial requirements
2. Product agent will coordinate all subagents automatically
3. User receives regular progress updates
4. Final product delivered with documentation

## Notes

- All agents follow consistent structure and naming conventions
- Temperature standardized to 0.2 for subagents (0.3 for primary)
- Each agent references relevant guidelines files
- Complete integration workflows documented
- Review-driven development process applied


2026-02-21
----------

## Overview
Created a comprehensive deep research agent group consisting of 6 specialized agents (1 primary + 5 subagents) for conducting systematic, high-quality research tasks. The system features strict quality control with citation verification, creative expansion capabilities, and an 8-phase standardized workflow.

## Deep Research Agent Group

### 1. research (PRIMARY AGENT)
**File**: `agents/research.md` (~350 lines)
**Mode**: primary | **Temperature**: 0.5 | **Steps**: 100

**Responsibilities**:
- Receive and clarify user research requirements
- Determine if requirements are specific enough
- Design questionnaires to help users specify details
- Coordinate subagents (inspect, search, insight, creative, examine)
- Manage the 8-phase research workflow
- Output final research report with metadata

**8-Phase Workflow**:
1. **Requirement Clarification**: Evaluate and confirm research needs
2. **Planning**: Create request.md and standard.md
3. **Information Gathering**: Call inspect â†’ search for data collection
4. **Analysis**: Call insight to write result.md
5. **Quality Assurance**: Call examine to review against standards
6. **Creative Expansion** (if Major Revision): Call creative for new directions
7. **Refinement** (if Minor Revision): Revise and re-review
8. **Finalization**: Add metadata and deliver final report

**Key Features**:
- Manages iterative research cycles until quality standards met
- Tracks research cycles and total time spent
- Produces structured research documentation

---

### 2. inspect (Subagent)
**File**: `agents/inspect.md` (~180 lines)
**Mode**: subagent | **Temperature**: 0.3 | **Steps**: 15

**Responsibilities**:
- Design comprehensive search keywords based on research requirements
- Identify priority websites and authoritative sources
- Create structured search_plan.md with:
  - Primary and secondary keywords
  - Advanced search queries
  - Priority sources (academic, industry, news, government)
  - Search strategy notes

**Input**: request.md, revise.md (if applicable)  
**Output**: search_plan.md

---

### 3. search (Subagent)
**File**: `agents/search.md` (~260 lines)
**Mode**: subagent | **Temperature**: 0.3 | **Steps**: 30

**Responsibilities**:
- Execute search plans using provided keywords and sources
- Collect and extract relevant web information
- Transcribe findings into structured Markdown files in raw/ folder
- **Save original PDF files** to raw/pdfs/ directory
- Maintain complete source attribution (URL, author, date, reliability score)

**Output Structure**:
```
raw/
â”œâ”€â”€ YYYYMMDD_001_topic.md
â”œâ”€â”€ YYYYMMDD_002_topic.md
â””â”€â”€ pdfs/
    â”œâ”€â”€ YYYYMMDD_001_paper.pdf
    â””â”€â”€ YYYYMMDD_002_paper.pdf
```

**Key Features**:
- Information quality assessment (authority, accuracy, objectivity, currency, coverage)
- Proper citation with page numbers for academic sources
- Cross-reference tracking

---

### 4. insight (Subagent)
**File**: `agents/insight.md` (~300 lines)
**Mode**: subagent | **Temperature**: 0.4 | **Steps**: 25

**Responsibilities**:
- Analyze raw research materials from raw/ folder
- Synthesize key insights and identify patterns
- Write comprehensive research reports in structured format
- **Ensure accurate citations** to all source materials
- Address all research questions from request.md

**Report Structure**:
- Executive Summary
- Research Objectives
- Methodology
- Key Findings (with citations)
- Detailed Analysis
- Contradictions and Uncertainties
- Conclusions and Recommendations
- References and Source Inventory

**Citation Standards**:
- Every factual claim must have citation
- Direct quotes include page/paragraph references
- Format: [raw/YYYYMMDD_file.md] or [Author, Year via raw/file.md]

---

### 5. creative (Subagent)
**File**: `agents/creative.md` (~290 lines)
**Mode**: subagent | **Temperature**: **0.7** | **Steps**: 25

**Responsibilities**:
- Analyze revision requirements from examine subagent
- **Identify blind spots** and information gaps in current research
- **Propose alternative perspectives** and angles
- Suggest new research directions for deeper investigation
- Think creatively about unconventional sources and approaches
- **Cross-disciplinary connections** and innovative thinking

**Creative Thinking Guidelines**:
- Challenge assumptions
- Lateral thinking (draw connections to unrelated fields)
- Devil's advocate (consider opposing viewpoints)
- Future-oriented (emerging trends)
- System thinking (broader interconnections)

**Input**: revise.md, result.md, request.md  
**Output**: creative_directions.md

---

### 6. examine (Subagent)
**File**: `agents/examine.md` (~340 lines)
**Mode**: subagent | **Temperature**: **0.0** | **Steps**: 20

**Responsibilities**:
- **Rigorously review** research reports against review criteria
- **Verify EVERY citation** by cross-referencing with raw sources
- Check logical consistency and argument validity
- **Determine revision level**: "Major Revision", "Minor Revision", or "Pass"
- Provide specific, actionable feedback for improvements

**Three-Level Revision System**:

**Major Revision (å¤§ä¿®)** - Required when ANY apply:
- **Citation mismatch** - Any claim does not match cited source
- Factual error
- Missing core content
- Logical fallacy
- Insufficient evidence

**Minor Revision (å°ä¿®)** - Appropriate when:
- Citations accurate but formatting could improve
- Content factually correct but lacks detail
- Minor clarifications needed

**Pass (é€šè¿‡)** - Granted when ALL criteria met:
- All citations verified and accurate
- No factual errors
- Logic sound and consistent
- All requirements addressed

**Review Rules**:
1. **Verify EVERY citation** - No exceptions
2. **Trust only math and logic** - Do not accept claims at face value
3. **Citation mismatch â†’ MUST require Major Revision**
4. Temperature 0.0 ensures complete objectivity

**Output Files**:
- examine_report.md (complete audit trail)
- revise.md (actionable improvement requirements, if revision needed)

---

## Research Workflow Visualization

```
User â†’ research
  â”œâ”€> Creates: request.md, standard.md
  â”‚
  â”œâ”€> Calls: inspect
  â”‚   â””â”€> Output: search_plan.md
  â”‚
  â”œâ”€> Calls: search
  â”‚   â””â”€> Output: raw/*.md, raw/pdfs/*.pdf
  â”‚
  â”œâ”€> Calls: insight
  â”‚   â””â”€> Output: result.md
  â”‚
  â””â”€> Calls: examine
      â”œâ”€> Output: examine_report.md
      â”œâ”€> Major Revision â†’ creative â†’ New research cycle
      â”œâ”€> Minor Revision â†’ insight â†’ Revise â†’ Re-examine
      â””â”€> Pass â†’ Add metadata â†’ final_report.md â†’ User
```

## Quality Control Mechanisms

### 1. Strict Citation Verification
- **Critical requirement**: Every factual claim must have citation
- Examine agent verifies every citation against raw sources
- **Citation mismatch = Automatic Major Revision**

### 2. Multi-Round Review Process
- Report undergoes rigorous review by examine agent
- Major issues trigger creative expansion for new research directions
- Minor issues trigger refinement cycles until quality standards met

### 3. Source Preservation
- All raw web sources saved as Markdown with metadata
- PDF files preserved in original format
- Complete audit trail for fact-checking

### 4. Iterative Improvement
- Research agent tracks number of cycles and total time
- Each iteration improves report quality
- Process continues until examine agent approves

## Documentation Created

### 1. research_zh.md (Chinese)
**File**: `docs/research_zh.md` (~305 lines)

**Contents**:
- Complete guide in Chinese
- Agent introductions with responsibilities
- 8-phase workflow explanation
- Usage instructions with examples
- Review criteria and revision system
- Troubleshooting guide

### 2. research_en.md (English)
**File**: `docs/research_en.md` (~305 lines)

**Contents**:
- Complete guide in English
- Same structure as Chinese version
- Professional terminology and examples
- Bilingual consistency maintained

## Key Features

### 1. Temperature Configuration
| Agent | Temperature | Purpose |
|-------|-------------|---------|
| research | 0.5 | Balanced coordination |
| inspect | 0.3 | Precise query design |
| search | 0.3 | Accurate information collection |
| insight | 0.4 | Analytical synthesis |
| **creative** | **0.7** | **Innovative thinking** |
| **examine** | **0.0** | **Complete objectivity** |

### 2. File Structure
```
workspace/
â”œâ”€â”€ request.md              # Research requirements
â”œâ”€â”€ standard.md             # Review criteria
â”œâ”€â”€ search_plan.md          # Search strategy
â”œâ”€â”€ raw/                    # Original materials
â”‚   â”œâ”€â”€ *.md               # Web sources
â”‚   â””â”€â”€ pdfs/              # Original PDFs
â”œâ”€â”€ result.md              # Research report (iterative)
â”œâ”€â”€ examine_report.md      # Quality audit
â”œâ”€â”€ revise.md              # Improvement requirements
â”œâ”€â”€ creative_directions.md # New research directions
â””â”€â”€ final_report.md        # Final deliverable
```

### 3. Metadata Tracking
Final report includes:
- Current date
- Number of research cycles completed
- Total time spent
- Complete source inventory

## Statistics

| Metric | Count |
|--------|-------|
| **Total Agents** | 6 (1 primary + 5 subagents) |
| **New Agents** | 6 (research, inspect, search, insight, creative, examine) |
| **New Documentation** | 2 (research_zh.md, research_en.md) |
| **Total Lines Added** | ~2,050+ lines |
| **Workflow Phases** | 8 |
| **Supported Formats** | Markdown, PDF |

## Usage Example

```
User: "Research China's new energy vehicle market"

research:
  1. Creates request.md with research objectives
  2. Calls inspect â†’ search_plan.md
  3. Calls search â†’ raw/*.md, raw/pdfs/*.pdf
  4. Calls insight â†’ result.md
  5. Calls examine â†’ examine_report.md
     (Assumes "Minor Revision" required)
  6. insight revises result.md
  7. examine reviews â†’ "Pass"
  8. Adds metadata â†’ final_report.md

User receives: Comprehensive report with all citations,
               source inventory, and research metadata
```

## Review and Approval

All agents and documentation reviewed by @review subagent:
- **Overall Grade**: A (Excellent)
- **Structure**: Consistent and complete
- **Technical Accuracy**: All configurations verified
- **Documentation Quality**: Bilingual guides approved

## Commit Message
```
feat(agents): create deep research agent group for comprehensive research tasks

- Create research agent (primary) to coordinate research workflow
- Create inspect agent for search query design
- Create search agent for information collection with PDF support
- Create insight agent for report writing with citation standards
- Create creative agent (temp 0.7) for innovative research directions
- Create examine agent (temp 0.0) for rigorous quality review
- Implement 8-phase research workflow with iterative improvement
- Add strict citation verification (mismatch = Major Revision)
- Support PDF preservation and Markdown transcription
- Create comprehensive bilingual documentation (zh/en)
- All agents reviewed and approved

Features:
- Multi-cycle research with quality gates
- Complete source traceability
- Three-level revision system (Major/Minor/Pass)
- Creative expansion for research gaps
- Professional report generation
```


2026-02-20
----------

## Overview
Expanded the agent ecosystem to support multiple technology stacks beyond the default Rust + Flutter. Added three new development agents (C/C++, Python, TypeScript/Vue.js) and enhanced the architect agent to intelligently select appropriate tech stacks based on user requirements.

## Changes Summary

### ğŸ†• New Agents: Multi-Stack Development Support

#### 1. c_cpp_dev (Subagent)
**File**: `agents/c_cpp_dev.md` (~375 lines)
**Mode**: subagent | **Temperature**: 0.2

**Responsibilities**:
- Write modern C++ (C++17/C++20) code with C compatibility
- Memory management with RAII and smart pointers (unique_ptr, shared_ptr)
- System programming and embedded development
- Cross-platform development (Linux, Windows, macOS, embedded)
- Static analysis (clang-tidy, cppcheck) and sanitizers (ASan, TSan, UBSan)
- Performance optimization with SIMD and profiling

**Key Features**:
- Modern C++ best practices following C++ Core Guidelines
- Google Test for comprehensive testing
- CMake build system with cross-compilation support
- Thread-safe code with std::mutex, std::atomic
- FFI integration with Rust and Python
- Memory safety without garbage collection

**Use When**: System programming, embedded development, performance-critical applications, native libraries

---

#### 2. python_dev (Subagent)
**File**: `agents/python_dev.md` (~920 lines)
**Mode**: subagent | **Temperature**: 0.2

**Responsibilities**:
- Write type-safe Python code (3.10+) with comprehensive type hints
- Web backend development with FastAPI
- Data processing with Pandas and NumPy
- Machine learning pipeline development
- Async/await programming with asyncio
- CLI tool development with Click/Typer

**Key Features**:
- Strict type checking with mypy
- FastAPI for high-performance APIs
- pytest for comprehensive testing
- Poetry/pip for package management
- Async patterns for I/O-bound operations
- Pydantic for data validation

**Use When**: Web backends, data processing, ML/AI, automation scripts, rapid prototyping

---

#### 3. ts_dev (Subagent)
**File**: `agents/ts_dev.md` (~900 lines)
**Mode**: subagent | **Temperature**: 0.2

**Responsibilities**:
- Write type-safe TypeScript code with strict mode
- Vue 3 SPA development with Composition API
- State management with Pinia
- Component library development
- API integration with type-safe clients
- Frontend testing with Vitest

**Key Features**:
- Vue 3 `<script setup>` syntax
- TypeScript strict mode enforcement
- Pinia stores with full type safety
- Vite build tool for fast development
- Vitest and Vue Test Utils for testing
- Accessibility (a11y) implementation

**Use When**: Web frontend applications, Vue.js projects, browser-based UIs

---

### ğŸ”„ Enhanced Agent: architect (Multi-Stack Support)

**File**: `agents/architect.md` (Updated)

**Major Changes**:
- **Multi-Stack Architecture Design**: Now supports 5 technology stacks
  - **Default**: Rust + Flutter (cross-platform native apps)
  - **C/C++**: System programming, embedded, performance-critical
  - **Python**: Web backends, data processing, ML, automation
  - **TypeScript/Vue.js**: Web frontend development
  - **Mixed Stacks**: Can combine technologies (e.g., Python backend + Vue.js frontend)

- **Tech Stack Selection Guidelines**:
  - DEFAULT to Rust + Flutter unless user specifies otherwise
  - Use alternative stacks ONLY when user explicitly requires them
  - Architect evaluates requirements and recommends appropriate stack

- **Enhanced Skills Section**:
  - Added `tech-stack-selection` capability
  - Platform-specific skills for all supported stacks
  - Cross-stack integration guidance

- **Git Workflow Integration**:
  - Added commit workflow for architecture documentation
  - Conventional commits for design changes
  - Branching strategy for design iterations

- **Integration with Other Agents**:
  - Collaboration guidelines with all development agents
  - Review procedures for each tech stack
  - Clear escalation paths

---

## Tech Stack Selection Guide

### Decision Matrix

| Requirement | Recommended Stack | Alternative |
|------------|------------------|-------------|
| Cross-platform mobile/desktop | **Rust + Flutter** | - |
| System/embedded programming | **C/C++** | Rust |
| Web backend/API | **Python** (FastAPI) | Rust (Actix/Rocket) |
| Data processing/ML | **Python** | - |
| Web frontend | **TypeScript + Vue.js** | Flutter Web |
| High-performance native | **C/C++** or **Rust** | - |
| Rapid prototyping | **Python** | - |

### Stack Combinations

**Full-Stack Web**:
- Backend: Python (FastAPI) or Rust
- Frontend: TypeScript + Vue.js

**Cross-Platform Native**:
- Backend: Rust
- Frontend: Flutter

**Performance-Critical System**:
- Core: C/C++
- API Layer: Rust or Python

**ML/Data Pipeline**:
- Processing: Python
- Visualization: TypeScript + Vue.js

---

## Updated Agent Hierarchy

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  product agent  â”‚
                    â”‚   (PRIMARY)     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚                 â”‚                 â”‚
     â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
     â”‚ architect â”‚    â”‚ rust_dev  â”‚    â”‚flutter_devâ”‚
     â”‚ (SUB)     â”‚    â”‚ (SUB)     â”‚    â”‚ (SUB)     â”‚
     â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
           â”‚                â”‚                â”‚
     â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”         â”‚           â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
     â”‚   test    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  ui_dev   â”‚
     â”‚  (SUB)    â”‚                     â”‚  (SUB)    â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚                 â”‚                 â”‚
     â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
     â”‚  c_cpp_devâ”‚    â”‚python_dev â”‚    â”‚  ts_dev   â”‚
     â”‚  (SUB)    â”‚    â”‚ (SUB)     â”‚    â”‚  (SUB)    â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Total Agents**: 11 (1 primary + 10 subagents)

---

## Workflow Integration

### Development Workflow by Stack

**Rust + Flutter** (Default):
```
product â†’ architect â†’ rust_dev/flutter_dev â†’ test â†’ architect (review)
```

**Python Backend**:
```
product â†’ architect â†’ python_dev â†’ test â†’ architect (review)
```

**TypeScript/Vue.js Frontend**:
```
product â†’ architect â†’ ts_dev â†’ test â†’ architect (review)
```

**Mixed Stack** (e.g., Python + Vue.js):
```
product â†’ architect â†’ python_dev + ts_dev â†’ test â†’ architect (review)
```

---

## Documentation Updates

### Reference Guidelines
- **C/C++**: C++ Core Guidelines, Google C++ Style Guide, MISRA C/C++
- **Python**: PEP 8, Google Python Style Guide
- **TypeScript**: TypeScript Guidelines (existing file)
- **Vue.js**: Vue Style Guide, Vue 3 Composition API docs

### Code Examples
Each new agent includes:
- Comprehensive code examples (50+ examples total)
- Build system configurations (CMake, pyproject.toml, Vite)
- Testing patterns for each stack
- Git workflow integration
- Common commands reference

---

## Quality Assurance

### Review Process
All new agents were reviewed by `@review` subagent:
- **Overall Grade**: A to B+ (Excellent to Very Good)
- **Structure**: Consistent with existing agents
- **Completeness**: All sections present
- **Technical Accuracy**: Guidelines verified

### Minor Improvements Applied
- Standardized frontmatter formatting across all agents
- Added Git Workflow Integration sections
- Added Integration with Other Agents sections
- Fixed permission block consistency

---

## Statistics

| Metric | Count |
|--------|-------|
| **Total Agents** | 11 (1 primary + 10 subagents) |
| **New Agents** | 3 (c_cpp_dev, python_dev, ts_dev) |
| **Updated Agents** | 1 (architect) |
| **Total Lines Added** | ~2,200+ lines |
| **Supported Tech Stacks** | 5 |

---

## Usage Examples

### Start Python Web Project
```
User: "Build a Python REST API for user management"
product â†’ architect (selects Python) â†’ python_dev â†’ test â†’ delivery
```

### Start Vue.js Frontend
```
User: "Create a Vue.js dashboard for data visualization"
product â†’ architect (selects TypeScript/Vue.js) â†’ ts_dev â†’ test â†’ delivery
```

### Start C++ System Project
```
User: "Develop a high-performance C++ library for image processing"
product â†’ architect (selects C/C++) â†’ c_cpp_dev â†’ test â†’ delivery
```

### Mixed Stack (Full-Stack Web)
```
User: "Build a web app with Python backend and Vue.js frontend"
product â†’ architect (selects Python + Vue.js) â†’ python_dev + ts_dev â†’ test â†’ delivery
```

---

## Notes

- **Default Stack Maintained**: Rust + Flutter remains the default for cross-platform native apps
- **Explicit Selection Required**: Alternative stacks only used when user specifically requests
- **Consistent Patterns**: All agents follow same structure, workflows, and quality gates
- **Cross-Stack Collaboration**: Agents can work together on mixed-technology projects
- **Future-Ready**: Architecture supports adding more technology stacks as needed

---

## Commit Message
```
feat(agents): add multi-stack development support

- Create c_cpp_dev agent for C/C++ development (375 lines)
- Create python_dev agent for Python development (920 lines)
- Create ts_dev agent for TypeScript/Vue.js development (900 lines)
- Update architect agent to support 5 tech stacks
- Add tech stack selection guidelines (Rust+Flutter default)
- Maintain consistent structure with existing agents
- Add comprehensive code examples and build configurations
- All agents reviewed and approved

Supported stacks:
- Rust + Flutter (default)
- C/C++
- Python
- TypeScript + Vue.js
- Mixed combinations
```


2026-02-19
----------

## Overview
Enhanced the agent ecosystem with git workflow integration, comprehensive documentation, and improved collaboration workflows. Added ops agent for DevOps responsibilities and established Mermaid as the standard for architecture diagrams.

## Changes Summary

### ğŸ”„ Git Workflow Integration
**Applied to all 8 agents:**
- Added `git-workflow` skill to all agent configurations
- Enabled conventional commits and proper version control workflows
- Standardized commit message formats across the team

### ğŸ†• New Agent: ops (Subagent)
**File**: `agents/ops.md` (~420 lines)
**Mode**: subagent | **Temperature**: 0.3

**Responsibilities**:
- Build script creation for Rust and Flutter
- Package creation (iOS, Android, Web, Desktop)
- CI/CD pipeline setup (GitHub Actions)
- Deployment scripts and automation
- Infrastructure as Code (Docker, Kubernetes)
- Release management with semantic versioning

**Key Features**:
- Cross-platform build configurations
- Environment-specific deployments (dev/staging/prod)
- Containerized build environments
- Security best practices for CI/CD

### ğŸ“ Agent-Specific Updates

#### 1. product (PRIMARY)
- Added git-workflow skill integration

#### 2. architect (Subagent)
- **Added Merge Review Process**: First reviewer during merge with design/code arbitration
- **Design/Code Arbitration Rules**: Clear criteria for when to change code vs. change design
- **Mermaid Diagram Standard**: MUST use Mermaid syntax for all architecture diagrams
- Examples provided for flowcharts, sequence diagrams, class diagrams, and state diagrams

#### 3. rust_dev (Subagent)
- **Pre-test Commit Requirement**: MUST commit changes before requesting testing
- Conventional commits workflow with specific git commands
- Self-only changes policy
- Quality gates: cargo fmt, clippy, test before commit

#### 4. flutter_dev (Subagent)
- **Pre-test Commit Requirement**: MUST commit changes before requesting testing
- Dart/Flutter quality checks before commits
- Collaboration guidelines with ui_dev agent

#### 5. ui_dev (Subagent)
- **Design Documentation Requirement**: MUST write comprehensive design docs for every task
- Documentation structure defined:
  ```
  docs/design/
  â”œâ”€â”€ design-system.md
  â”œâ”€â”€ component-library.md
  â”œâ”€â”€ design-tokens.md
  â”œâ”€â”€ accessibility-guide.md
  â””â”€â”€ [feature-name]/
  ```
- Git commit workflow for design documentation

#### 6. test (Subagent)
- **Test Documentation Requirements**: MUST write test cases and test results
- Documentation structure:
  ```
  docs/testing/
  â”œâ”€â”€ test-plans/
  â”œâ”€â”€ test-cases/
  â”œâ”€â”€ test-results/
  â”œâ”€â”€ defects/
  â””â”€â”€ coverage/
  ```
- Git workflow for committing test documentation

#### 7. office (Subagent)
- Enhanced collaboration requirements with review agent
- Added auto-continue note for handling reasoning content issues

### ğŸ“š Documentation Created

#### 1. dev_team_en.md (English)
**File**: `docs/dev_team_en.md` (~400 lines)

**Contents**:
- Agent hierarchy with Mermaid flowchart
- Complete roles and responsibilities for all 7 agents
- Collaboration workflows with visual diagrams
- Git workflow integration guidelines
- Quality gates documentation
- Getting started guide

**Visual Diagrams**:
- Agent hierarchy flowchart
- Task lifecycle flowchart
- Merge review process flowchart
- UI/Flutter collaboration sequence diagram

#### 2. dev_team_zh.md (Chinese)
**File**: `docs/dev_team_zh.md` (~400 lines)

**Contents**:
- Complete Chinese translation of team documentation
- Same structure and diagrams as English version
- Localized terminology and examples
- Emoji-enhanced section headers for better readability

### ğŸ“Š Workflow Diagrams (Mermaid)

All workflows now use Mermaid syntax for better visualization:

1. **Agent Hierarchy**: Flowchart showing relationships between 7 agents
2. **Task Lifecycle**: Decision flow with loops for testing and review
3. **Merge Review Process**: Arbitration workflow for design/code conflicts
4. **UI/Flutter Collaboration**: Sequence diagram for design handoff

### ğŸ¨ Quality Improvements

#### Based on Review Feedback:
- Fixed agent name references (backticks for code formatting)
- Standardized terminology across documents
- Added emojis to Chinese documentation headers
- Improved translation consistency
- Clarified workflow diagrams with better labels
- Enhanced related documents section with context

### ğŸ“ˆ Statistics

| Metric | Count |
|--------|-------|
| **Total Agents** | 8 (1 primary + 7 subagents) |
| **New Agents** | 1 (ops) |
| **Updated Agents** | 7 (product, architect, rust_dev, flutter_dev, ui_dev, test, office) |
| **New Documentation** | 2 (dev_team_en.md, dev_team_zh.md) |
| **Total Lines Added** | ~1,500+ lines |

### ğŸ”§ Technical Stack Updates

- **Diagramming**: Mermaid (standardized for all architecture diagrams)
- **Version Control**: Git with Conventional Commits
- **CI/CD**: GitHub Actions (via ops agent)
- **Documentation**: Bilingual (English/Chinese) with emoji support

### ğŸ“ Commit Message
```
feat(agents): enhance agent ecosystem with git workflow and documentation

- Add git-workflow skill to all agents
- Create ops agent for CI/CD and deployment
- Add pre-test commit requirements for dev agents
- Add design/test documentation requirements
- Implement merge review and arbitration workflows
- Create comprehensive bilingual team documentation
- Standardize Mermaid for all diagrams
- Apply review feedback and quality improvements
```

