2026-02-18
----------

## Overview
Established complete Rust + Flutter software development agent ecosystem with 1 primary agent and 6 subagents, enabling full product lifecycle management from requirements to delivery.

## Technical Stack
- **Backend**: Rust
- **Frontend**: Flutter (iOS, Android, Web, Desktop)
- **Architecture**: Multi-agent orchestration system

## Agents Created

### 1. product (PRIMARY AGENT)
**File**: `agents/product.md` (684 lines)
**Mode**: primary | **Temperature**: 0.3 | **Steps**: 50

**Responsibilities**:
1. Collect and verify software product requirements with user
2. Verify feasibility with architect subagent
3. Create Product Requirements Document (PRD)
4. Call architect to design software architecture and decompose tasks
5. Setup development plan according to task decomposition
6. Distribute tasks to development subagents (rust_dev, flutter_dev, ui_dev)
7. Enforce quality gates: test before code review, architect review before merge
8. Coordinate final product testing with test subagent
9. Manage bug fixes with development subagents
10. Deliver final product to user

**Integration Flow**:
```
User â†’ product â†’ architect/rust_dev/flutter_dev/ui_dev â†’ test â†’ Delivery
```

---

### 2. architect (Subagent)
**File**: `agents/architect.md`
**Mode**: subagent | **Temperature**: 0.3

**Responsibilities**:
- Design Rust + Flutter software architecture
- Provide technical feasibility analysis
- Decompose architecture into design tasks with interfaces and acceptance criteria
- Review code submissions and reject unreasonable designs
- Arbitrate conflicts between development and testing

**Key Features**:
- Architecture design documents
- Task decomposition with interface definitions
- Code review reports
- Arbitration decisions

---

### 3. rust_dev (Subagent)
**File**: `agents/rust_dev.md` (304 lines)
**Mode**: subagent | **Temperature**: 0.2

**Responsibilities**:
- Write idiomatic, safe, and performant Rust code
- Implement comprehensive testing (unit, integration, documentation tests)
- FFI integration with Flutter via flutter_rust_bridge
- Cross-platform development (iOS, Android, Windows, macOS, Linux)
- Code quality enforcement (cargo fmt, clippy)
- Concurrency and async programming

**Key Features**:
- Follows rust-guidelines.md
- FFI & Flutter integration support
- Cross-platform compilation
- Concurrency best practices
- Error handling standards

---

### 4. flutter_dev (Subagent)
**File**: `agents/flutter_dev.md` (~580 lines)
**Mode**: subagent | **Temperature**: 0.2

**Responsibilities**:
- Implement responsive and accessible Flutter UI
- State management (BLoC, Provider, Riverpod, etc.)
- FFI integration with Rust using flutter_rust_bridge
- Cross-platform development (iOS, Android, Web, Desktop)
- Code quality (flutter analyze, dart format)
- Navigation & routing (GoRouter)
- Localization & accessibility

**Integration with ui_dev**:
- Explicit calling procedures for UI design tasks
- Design-to-code handoff workflow
- Design token implementation

**Key Features**:
- Follows flutter-guidelines.md
- Material Design 3 / Cupertino support
- FFI error handling
- Responsive layouts
- Complete testing workflow

---

### 5. ui_dev (Subagent)
**File**: `agents/ui_dev.md` (~620 lines)
**Mode**: subagent | **Temperature**: 0.2

**Responsibilities**:
- Create comprehensive design systems
- Define visual design specifications for Flutter widgets
- Design token management (colors, typography, spacing)
- Component library design (Material Design 3)
- Accessibility & UX guidelines (WCAG 2.1 AA)
- Design-to-code handoff documentation

**Key Features**:
- Follows color-guidelines.md and figma-guidelines.md
- WCAG 2.1 AA compliance
- Light/Dark mode design
- 8px baseline spacing system
- ThemeData configurations
- Flutter-specific implementation guidance

---

### 6. test (Subagent)
**File**: `agents/test.md` (~745 lines)
**Mode**: subagent | **Temperature**: 0.2

**Responsibilities** (Black-box testing focus):
- Create test cases based on requirements ONLY (no code review)
- Functional testing from user perspective
- Integration testing (Rust-Flutter FFI)
- Cross-platform testing
- Regression testing
- Bug reporting with reproduction steps
- Test documentation and traceability matrices

**Test Design Techniques**:
- Equivalence Partitioning
- Boundary Value Analysis
- Decision Table Testing
- State Transition Testing
- Use Case Testing
- Error Guessing

**Key Features**:
- Follows test-case-guidelines.md
- Black-box testing principles
- Comprehensive test templates
- Defect report templates
- Integration with all development agents

---

### 7. review (Subagent)
**File**: `agents/review.md`
**Mode**: subagent

**Responsibilities**:
- Review text materials for quality, accuracy, and style
- Used during agent creation process
- Provides structured feedback with prioritized issues

---

### 8. office (Subagent)
**File**: `agents/office.md`
**Mode**: subagent

**Responsibilities**:
- Handle office-related tasks
- Document processing
- General administrative support

---

## Quality Gates & Workflow

### Development Workflow (Enforced by product agent):
```
1. Assign Task â†’ Dev Subagent
2. Development Complete
3. Test Subagent â†’ Tests Implementation
   â”œâ”€ PASS â†’ Code Review
   â””â”€ FAIL â†’ Return to Developer
4. Architect â†’ Code Review
   â”œâ”€ APPROVED â†’ Merge
   â””â”€ CHANGES â†’ Return to Developer
5. Task Complete
```

### Bug Fix Workflow:
```
1. Review test report with user
2. Prioritize bugs (Critical/High/Medium/Low)
3. Assign to appropriate subagent
4. Fix â†’ Test â†’ Review â†’ Close
5. Re-run regression tests
6. User validation
```

## Project Structure

```
~/.config/opencode/
â”œâ”€â”€ agents/
â”‚   â”œâ”€â”€ product.md          # Primary orchestrator (NEW)
â”‚   â”œâ”€â”€ architect.md        # Architecture design
â”‚   â”œâ”€â”€ rust_dev.md         # Rust development
â”‚   â”œâ”€â”€ flutter_dev.md      # Flutter development
â”‚   â”œâ”€â”€ ui_dev.md           # UI/UX design
â”‚   â”œâ”€â”€ test.md             # Black-box testing
â”‚   â”œâ”€â”€ review.md           # Review agent
â”‚   â””â”€â”€ office.md           # Office tasks
â”œâ”€â”€ rules/
â”‚   â”œâ”€â”€ rust-guidelines.md
â”‚   â”œâ”€â”€ flutter-guidelines.md
â”‚   â”œâ”€â”€ color-guidelines.md
â”‚   â”œâ”€â”€ figma-guidelines.md
â”‚   â”œâ”€â”€ test-case-guidelines.md
â”‚   â”œâ”€â”€ prd-guidelines-en.md
â”‚   â””â”€â”€ ...
â””â”€â”€ CHANGELOG
```

## Statistics

| Metric | Count |
|--------|-------|
| **Total Agents** | 8 (1 primary + 7 subagents) |
| **New Agents** | 6 (product, architect, rust_dev, flutter_dev, ui_dev, test) |
| **Total Lines** | ~3,500+ lines of agent definitions |
| **Review Iterations** | 4 comprehensive reviews |

## Usage

To start a software project:
1. Call **product** agent with initial requirements
2. Product agent will coordinate all subagents automatically
3. User receives regular progress updates
4. Final product delivered with documentation

## Notes

- All agents follow consistent structure and naming conventions
- Temperature standardized to 0.2 for subagents (0.3 for primary)
- Each agent references relevant guidelines files
- Complete integration workflows documented
- Review-driven development process applied


2026-02-19
----------

## Overview
Enhanced the agent ecosystem with git workflow integration, comprehensive documentation, and improved collaboration workflows. Added ops agent for DevOps responsibilities and established Mermaid as the standard for architecture diagrams.

## Changes Summary

### ğŸ”„ Git Workflow Integration
**Applied to all 8 agents:**
- Added `git-workflow` skill to all agent configurations
- Enabled conventional commits and proper version control workflows
- Standardized commit message formats across the team

### ğŸ†• New Agent: ops (Subagent)
**File**: `agents/ops.md` (~420 lines)
**Mode**: subagent | **Temperature**: 0.3

**Responsibilities**:
- Build script creation for Rust and Flutter
- Package creation (iOS, Android, Web, Desktop)
- CI/CD pipeline setup (GitHub Actions)
- Deployment scripts and automation
- Infrastructure as Code (Docker, Kubernetes)
- Release management with semantic versioning

**Key Features**:
- Cross-platform build configurations
- Environment-specific deployments (dev/staging/prod)
- Containerized build environments
- Security best practices for CI/CD

### ğŸ“ Agent-Specific Updates

#### 1. product (PRIMARY)
- Added git-workflow skill integration

#### 2. architect (Subagent)
- **Added Merge Review Process**: First reviewer during merge with design/code arbitration
- **Design/Code Arbitration Rules**: Clear criteria for when to change code vs. change design
- **Mermaid Diagram Standard**: MUST use Mermaid syntax for all architecture diagrams
- Examples provided for flowcharts, sequence diagrams, class diagrams, and state diagrams

#### 3. rust_dev (Subagent)
- **Pre-test Commit Requirement**: MUST commit changes before requesting testing
- Conventional commits workflow with specific git commands
- Self-only changes policy
- Quality gates: cargo fmt, clippy, test before commit

#### 4. flutter_dev (Subagent)
- **Pre-test Commit Requirement**: MUST commit changes before requesting testing
- Dart/Flutter quality checks before commits
- Collaboration guidelines with ui_dev agent

#### 5. ui_dev (Subagent)
- **Design Documentation Requirement**: MUST write comprehensive design docs for every task
- Documentation structure defined:
  ```
  docs/design/
  â”œâ”€â”€ design-system.md
  â”œâ”€â”€ component-library.md
  â”œâ”€â”€ design-tokens.md
  â”œâ”€â”€ accessibility-guide.md
  â””â”€â”€ [feature-name]/
  ```
- Git commit workflow for design documentation

#### 6. test (Subagent)
- **Test Documentation Requirements**: MUST write test cases and test results
- Documentation structure:
  ```
  docs/testing/
  â”œâ”€â”€ test-plans/
  â”œâ”€â”€ test-cases/
  â”œâ”€â”€ test-results/
  â”œâ”€â”€ defects/
  â””â”€â”€ coverage/
  ```
- Git workflow for committing test documentation

#### 7. office (Subagent)
- Enhanced collaboration requirements with review agent
- Added auto-continue note for handling reasoning content issues

### ğŸ“š Documentation Created

#### 1. dev_team_en.md (English)
**File**: `docs/dev_team_en.md` (~400 lines)

**Contents**:
- Agent hierarchy with Mermaid flowchart
- Complete roles and responsibilities for all 7 agents
- Collaboration workflows with visual diagrams
- Git workflow integration guidelines
- Quality gates documentation
- Getting started guide

**Visual Diagrams**:
- Agent hierarchy flowchart
- Task lifecycle flowchart
- Merge review process flowchart
- UI/Flutter collaboration sequence diagram

#### 2. dev_team_zh.md (Chinese)
**File**: `docs/dev_team_zh.md` (~400 lines)

**Contents**:
- Complete Chinese translation of team documentation
- Same structure and diagrams as English version
- Localized terminology and examples
- Emoji-enhanced section headers for better readability

### ğŸ“Š Workflow Diagrams (Mermaid)

All workflows now use Mermaid syntax for better visualization:

1. **Agent Hierarchy**: Flowchart showing relationships between 7 agents
2. **Task Lifecycle**: Decision flow with loops for testing and review
3. **Merge Review Process**: Arbitration workflow for design/code conflicts
4. **UI/Flutter Collaboration**: Sequence diagram for design handoff

### ğŸ¨ Quality Improvements

#### Based on Review Feedback:
- Fixed agent name references (backticks for code formatting)
- Standardized terminology across documents
- Added emojis to Chinese documentation headers
- Improved translation consistency
- Clarified workflow diagrams with better labels
- Enhanced related documents section with context

### ğŸ“ˆ Statistics

| Metric | Count |
|--------|-------|
| **Total Agents** | 8 (1 primary + 7 subagents) |
| **New Agents** | 1 (ops) |
| **Updated Agents** | 7 (product, architect, rust_dev, flutter_dev, ui_dev, test, office) |
| **New Documentation** | 2 (dev_team_en.md, dev_team_zh.md) |
| **Total Lines Added** | ~1,500+ lines |

### ğŸ”§ Technical Stack Updates

- **Diagramming**: Mermaid (standardized for all architecture diagrams)
- **Version Control**: Git with Conventional Commits
- **CI/CD**: GitHub Actions (via ops agent)
- **Documentation**: Bilingual (English/Chinese) with emoji support

### ğŸ“ Commit Message
```
feat(agents): enhance agent ecosystem with git workflow and documentation

- Add git-workflow skill to all agents
- Create ops agent for CI/CD and deployment
- Add pre-test commit requirements for dev agents
- Add design/test documentation requirements
- Implement merge review and arbitration workflows
- Create comprehensive bilingual team documentation
- Standardize Mermaid for all diagrams
- Apply review feedback and quality improvements
```

